/**
 * @file {@link http://xotic750.github.io/reiterate/ reiterate}
 * A modern iteration library.
 * @version 0.1.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <http://www.gnu.org/licenses/gpl-3.0.html> GPL-3.0+}
 * @module reiterate
 */
!function(a,b){"use strict";function c(){return this}function d(a){var b=O.chop(a,1);return O.hasV8Strictbug&&b.length>1&&!O.isNil(b[1])&&(b[1]=O.toObject(b[1])),b}function e(a){return O.sameValueZero(this,a)}var f,g,h,i,j,k,l,m,n,o,p,q=Object.prototype.hasOwnProperty,r=Object.defineProperty,s=Array.prototype.push,t=Array.prototype.forEach,u=Array.prototype.reduce,v=Array.prototype.filter,w=Array.prototype.map,x=Array.prototype.some,y=Array.prototype.every,z=Array.prototype.indexOf,A=Array.prototype.findIndex,B=Array.prototype.includes,C=String.prototype.codePointAt,D="reduce of empty array with no initial value",E="for",F=typeof b,G=typeof Object.prototype,H="number",I=typeof!1,J=typeof E,K=Object.prototype.toString,L=["toString","valueOf"],M=L.slice().reverse(),N={enumerable:!1,writable:!0,configurable:!0},O={useShims:!1,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1)};O.noop=function(){},g=typeof O.noop(),O.returnThis=c,O.inStrictMode=!c(),O.hasCallBug=!O.inStrictMode&&typeof c.call(E)===J,O.hasApplyBug=!O.inStrictMode&&typeof c.apply(E)===J,!O.inStrictMode&&t?t.call([1],function(){O.hasV8Strictbug=typeof this!==G},E):O.hasV8Strictbug=!1,O.hasBoxedStringBug="f"!==Object(E)[0]||!(0 in Object(E)),O.returnArgs=function(){return arguments},O.hasEnumArgsBug=!0;for(p in O.returnArgs(E))if("0"===p){O.hasEnumArgsBug=!1;break}if(O.isUndefined=function(a){return typeof a===g},O.isNull=function(a){return null===a},O.isNil=function(a){return O.isNull(a)||O.isUndefined(a)},O.isObject=function(a){var b;return a?(b=typeof a,b=b===G||b===F):b=!1,b},r&&!O.useShims)try{r({},{},{})}catch(P){r=!P}(!r||O.useShims)&&(r=function(a,b,c){if(!O.isObject(a))throw new TypeError("called on non-object");return a[b]=c.value,a}),O.defineProperty=r,O.requireObjectCoercible=function(a){if(O.isNil(a))throw new TypeError("Cannot convert argument to object");return a},O.toObject=function(a){return O.isObject(O.requireObjectCoercible(a))?a:Object(a)},O.reflectArg=function(a){return a},o=O.inStrictMode&&O.hasCallBug?function(a){return O.isNil(a)?a:O.toObject(a)}:O.reflectArg,O.hasOwn=function(a,b){return O.hasBoxedStringBug&&O.isString(a)&&O.isIndex(b,a.length)||q.call(O.toObject(a),O.isSymbol(b)?b:O.toString(b))||Object.getPrototypeOf&&typeof a===G&&O.hasProperty(a,b)&&O.isNull(Object.getPrototypeOf(a))},O.setValue=function(a,b,c,d){if(!d&&O.hasOwn(a,b))throw new Error('property "'+b+'" already exists on object');return N.value=c,r(a,b,N),delete N.value,a},O.symIt=typeof Symbol===F?Symbol.iterator:"@@iterator",O.toStringTag=function(a){var b;return b=O.isNull(a)?"[object Null]":O.isUndefined(a)?"[object Undefined]":K.call(a)},i=O.toStringTag(O.isNil),O.isFunction=function(a){var b=O.toStringTag(a),c=!1;return O.isObject(a)&&(b=O.toStringTag(a),b===i?c=!0:"[object GeneratorFunction]"===b&&(c=typeof a===F)),c},O.isObjectLike=function(a){return!!a&&typeof a===G},j=O.toStringTag(new Date),O.isDate=function(a){return O.isObjectLike(a)&&O.toStringTag(a)===j},O.toPrimitive=function(a,b){var c,d,e,f;if(O.isObject(a)){for(c=b===J||b!==H&&O.isDate(a)?L:M,e=0;2>e;){if(d=c[e],O.isFunction(a[d])&&(f=a[d](),!O.isObject(f)))return f;e+=1}throw new TypeError("ordinaryToPrimitive returned an object")}return f=a},typeof Symbol===F&&Symbol[E]&&(h=typeof Symbol[E](E)),O.toNumber=function(a){var b,c;if(O.isNull(a))c=0;else if(b=typeof a,b===H)c=a;else if(b===g)c=NaN;else if(b===I)c=a?1:0;else if(b===J)c=Number(a);else{if(h&&b===h)throw new TypeError("Can not convert symbol to a number");c=O.toNumber(O.toPrimitive(a,H))}return c},Math.sign&&!O.useShims?O.sign=Math.sign:O.sign=function(a){return O.toNumber(a)&&(O.toNumber(a>=0)||-1)},Number.isNaN&&!O.useShims?O.numIsNaN=Number.isNaN:O.numIsNaN=function(a){return typeof a===H&&isNaN(a)},Number.isFinite&&!O.useShims?O.numIsFinite=Number.isFinite:O.numIsFinite=function(a){return typeof a===H&&isFinite(a)},O.toInteger=function(a){var b=O.toNumber(a);return O.numIsNaN(b)?b=0:b&&O.numIsFinite(b)&&(b=O.sign(b)*Math.floor(Math.abs(b))),b},k=O.toStringTag(0),O.isNumber=function(a){var b=typeof a;return b===H||b===G&&O.toStringTag(a)===k},l=O.toStringTag(E),O.isString=function(a){var b=typeof a;return b===J||b===G&&O.toStringTag(a)===l},O.isLength=function(a){return typeof a===H&&a>-1&&a%1===0&&a<=O.MAX_SAFE_INTEGER},O.isArrayLike=function(a){return!O.isNil(a)&&!O.isFunction(a)&&O.isLength(a.length)},m=O.toStringTag([]),n=Array.isArray&&!O.useShims?Array.isArray:"[object Array]"===m?function(a){return O.isArrayLike(a)&&O.toStringTag(a)===m}:function(a){return O.isArrayLike(a)&&!O.isString(a)&&O.hasOwn(a,"length")&&!O.hasOwn(a,"callee")},O.isArray=function(a,b){var c;return c=b?O.isArrayLike(a)&&!O.isString(a):n(a)},O.isSurrogatePair=function(a,b){var c,d,e=!1;return O.isString(a)&&O.isString(b)&&(c=a.charCodeAt(),c>=55296&&56319>=c&&(d=b.charCodeAt(),d>=56320&&57343>=d&&(e=!0))),e},C&&!O.useShims?O.codePointAt=function(a,b){return C.call(a,b)}:O.codePointAt=function(a,b){var c,d,e,f=String(O.requireObjectCoercible(a)),g=f.length,h=O.toInteger(b);return h>=0&&g>h&&(c=f.charCodeAt(h),c>=55296&&56319>=c&&g>h+1&&(d=f.charCodeAt(h+1),d>=56320&&57343>=d&&(e=1024*(c-55296)+d-56320+65536))),e||c},O.assertIsFunction=function(a){if(!O.isFunction(a))throw new TypeError("argument must be a function");return a},O.toLength=function(a){var b=O.toInteger(a);return 0>=b?b=0:b>O.MAX_SAFE_INTEGER&&(b=O.MAX_SAFE_INTEGER),b},O.isIndex=function(a,b){var c,d;return c=arguments.length>1?O.toLength(b):O.MAX_SAFE_INTEGER-1,d=O.toNumber(a),O.isLength(d)&&c>d},p=[],O.useShims&&1===s.call(p,O.noop())&&1===p.length&&p[0]===O.noop()?O.push=function(a){var b=O.toObject(a),c=O.toLength(b.length),d=arguments.length-1,e=0;for(b.length=c+d;d>e;)b[c+e]=arguments[e+1],e+=1;return b.length}:O.push=function(a){return s.apply(a,O.chop(arguments,1))},O.toString=function(a){var b,c;if(O.isNull(a))c="null";else if(b=typeof a,b===J)c=a;else if(b===g)c=b;else{if(h&&b===h)throw new TypeError("Cannot convert symbol to string");c=String(a)}return c},O.isSymbol=function(a){return h&&typeof a===h},O.hasProperty=function(a,b){var c=O.isSymbol(b)?b:O.toString(b);return O.isString(a)&&O.isIndex(c,a.length)||c in O.toObject(a)},O.chop=function(a,b,c){var d,e,f,g=O.toObject(a),h=O.toLength(g.length),i=O.toInteger(b),j=[],k=0;for(f=0>i?Math.max(h+i,0):Math.min(i,h),d=O.isUndefined(c)?h:O.toInteger(c),e=0>d?Math.max(h+d,0):Math.min(d,h),e=O.toLength(e),j.length=O.toLength(Math.max(e-f,0));e>f;)O.hasProperty(g,f)&&(j[k]=g[f]),k+=1,f+=1;return j},u&&!O.useShims?O.reduce=function(a){return u.apply(a,d(arguments))}:O.reduce=function(a,b,c){var d,e,f,g,h=O.toObject(a);if(O.assertIsFunction(b),e=O.toLength(h.length),!e&&1===arguments.length)throw new TypeError(D);if(g=0,arguments.length>1)d=c;else{for(f=!1;!f&&e>g;)f=O.hasProperty(h,g),f&&(d=h[g],g+=1);if(!f)throw new TypeError(D)}for(;e>g;)O.hasProperty(h,g)&&(d=b.call(o(O.noop()),d,h[g],g,h)),g+=1;return d},O.isInteger=function(a){return O.numIsFinite(a)&&O.toInteger(a)===a},String.fromCodePoint&&!O.useShims?O.fromCodePoint=String.fromCodePoint:O.fromCodePoint=function(){var a=16384,b=[];return O.reduce(arguments,function(c,d){var e,f,g=O.toNumber(d);if(!O.isInteger(g)||0>g||g>1114111)throw new RangeError("Invalid codePnt point: "+g);return 65535>=g?O.push(b,g):(g-=65536,e=(g>>10)+55296,f=g%1024+56320,O.push(b,e,f)),b.length>a&&(c+=String.fromCharCode.apply(null,b),b.length=0),c},"")+String.fromCharCode.apply(null,b)},O.assertIsObject=function(a){if(!O.isObject(a))throw new TypeError("argument must be a object");return a},O.clampToSafeIntegerRange=function(a){var b=+a;return O.numIsNaN(b)?b=0:b<O.MIN_SAFE_INTEGER?b=O.MIN_SAFE_INTEGER:b>O.MAX_SAFE_INTEGER&&(b=O.MAX_SAFE_INTEGER),b},w&&!O.useShims?O.map=function(a){return w.apply(a,d(arguments))}:O.map=function(a,b,c){var d,e,f,g=O.toObject(a);for(O.assertIsFunction(b),e=[],e.length=d=O.toLength(g.length),f=0;d>f;)O.hasProperty(g,f)&&(e[f]=b.call(o(c),g[f],f,g)),f+=1;return e},v&&!O.useShims?O.filter=function(a){return v.apply(a,d(arguments))}:O.filter=function(a,b,c){var d,e,f,g,h=O.toObject(a);for(O.assertIsFunction(b),d=O.toLength(h.length),e=[],f=0;d>f;)O.hasProperty(h,f)&&(g=h[f],b.call(o(c),g,f,h)&&O.push(e,g)),f+=1;return e},O.curry=function(a){var b;return O.assertIsFunction(a),b=O.chop(arguments,1),function(){return a.apply(this,b.concat(O.chop(arguments)))}},t&&!O.useShims?O.forEach=function(a){return t.apply(a,d(arguments))}:O.forEach=function(a,b,c){var d,e,f=O.toObject(a);for(O.assertIsFunction(b),d=O.toLength(f.length),e=0;d>e;)O.hasProperty(f,e)&&b.call(o(c),f[e],e,f),e+=1},x&&!O.useShims?O.some=function(a){return x.apply(a,d(arguments))}:O.some=function(a,b,c){var d,e,f,g=O.toObject(a);for(O.assertIsFunction(b),e=O.toLength(g.length),d=!1,f=0;e>f&&(!O.hasProperty(g,f)||!(d=!!b.call(o(c),g[f],f,g)));)f+=1;return d},y&&!O.useShims?O.every=function(a){return y.apply(a,d(arguments))}:O.every=function(a,b,c){var d,e,f,g=O.toObject(a);for(O.assertIsFunction(b),d=O.toLength(g.length),e=!0,f=0;d>f&&(!O.hasProperty(g,f)||(e=!!b.call(o(c),g[f],f,g)));)f+=1;return e},Object.keys&&!O.useShims?O.keys=Object.keys:O.keys=function(a){var b,c=O.toObject(a),d=[];for(b in c)O.hasOwn(c,b)&&O.push(d,b);return d},Object.assign&&!O.useShims?O.assign=Object.assign:O.assign=function(a){function b(a){c[a]=this[a]}var c=O.toObject(a);return O.forEach(O.chop(arguments,1),function(a){O.isNil(a)||O.forEach(O.keys(a),b,a)}),c},Array.from&&!O.useShims?O.from=Array.from:O.from=function(a,b,c){var d,e,f,g,h,i,j,k=a&&a[O.symIt];if(O.isUndefined(b)||(h=!!O.assertIsFunction(b)),i=0,k){for(g=O.isFunction(this)?new this:[],d=k(),j=d.next();!j.done;)h?g[i]=b.call(o(c),j.value,i):g[i]=j.value,j=d.next(),i+=1;g.length=i}else for(e=O.toObject(a),f=O.toLength(e.length),g=O.isFunction(this)?new this(f):[],g.length=f;f>i;)h?g[i]=b.call(o(c),e[i],i):g[i]=e[i],i+=1;return g},z&&!O.useShims?O.indexOf=function(a){return z.apply(a,O.chop(arguments,1))}:O.indexOf=function(a,b,c){var d,e=O.toObject(a),f=O.toLength(e.length),g=-1;if(f&&(c=arguments.length>1?O.toInteger(c):0,f>c))for(0>c&&(c=f-Math.abs(c),0>c&&(c=0)),d=c;f>d;){if(O.hasProperty(e,d)&&b===e[d]){g=d;break}d+=1}return g},O.is=function(a,b){return a===b&&(0!==a||1/a===1/b)||O.numIsNaN(a)&&O.numIsNaN(b)},O.IdGenerator=function Q(){return this instanceof Q?void O.setValue(this,"id",[0]):new Q},O.setValue(O.IdGenerator.prototype,"next",function(){for(var a,b=[],c=this.id.length,d=Math.max(c,1),e=0,f=0;d>f||e;)a=e+(c>f?this.id[f]:0)+!f,O.push(b,a%10),e=Math.floor(a/10),f+=1;return this.id=b,this}),O.setValue(O.IdGenerator.prototype,"get",function(){return this.id.join("")}),O.setValue(O.IdGenerator.prototype,"reset",function(){return this.id.length=0,O.push(this.id,0),this}),O.sameValueZero=function(a,b){return a===b||O.numIsNaN(a)&&O.numIsNaN(b)},A&&!O.useShims?O.findIndex=function(a){return A.apply(a,O.chop(arguments,1))}:O.findIndex=function(a,b,c){var d,e,f,g=O.toObject(a);for(O.assertIsFunction(b),e=O.toLength(g.length),d=-1,f=0;e>f;){if(b.call(o(c),g[f],f,g)){d=f;break}f+=1}return d},O.getIndex=function(a,b){var c;return c=0===b||O.numIsNaN(b)?O.findIndex(a,e,b):O.indexOf(a,b)},B&&!O.useShims?O.includes=function(a){return B.apply(a,O.chop(arguments,1))}:O.includes=function(a,b,c){var d,e,f=O.toObject(a),g=O.toLength(f.length),h=!1;if(g)for(e=O.toLength(c),e>=0?d=e:(d=g+e,0>d&&(d=0));g>d;){if(O.sameValueZero(b,f[d])){h=!0;break}d+=1}return h},typeof define===F&&define.amd?define([],function(){return b(O,o)}):typeof module===G&&module.exports?module.exports=b(O,o):(f=("function"==typeof window||"object"==typeof window)&&window||"object"==typeof self&&self||"object"==typeof global&&global||"object"==typeof a&&a||{},O.setValue(f,"reiterate",b(O,o)))}(this,function(a,b){"use strict";var c,d="delete",e={DONE:{done:!0,value:a.noop()},OPTS:{ENTRIES:{entries:!0,values:!1,keys:!1},VALUES:{entries:!1,values:!0,keys:!1},KEYS:{entries:!1,values:!1,keys:!0}}},f=function(a,b){if(a.has(b))throw new TypeError("circular object");return!1},g=function(a,b){return a.reversed&&b.reverse(),b},h=function(){function b(b){var d;return a.isNil(b)||(a.isArrayLike(b)?d=c(b,!0):b[a.symIt]&&(d=b),d=d[a.symIt]()),d}return function(c,d,e){var f,g,h,i=b(e);if("map"===c&&a.setValue(d,"[[value]]",[]),a.setValue(d,"[[key]]",[]),a.setValue(d,"[[order]]",[]),a.setValue(d,"[[id]]",new a.IdGenerator),a.setValue(d,"[[changed]]",!1),i)for(g=i.next();!g.done;)h="map"===c?g.value[0]:g.value,f=a.getIndex(d["[[key]]"],h),0>f?("map"===c&&a.push(d["[[value]]"],g.value[1]),a.push(d["[[key]]"],h),a.push(d["[[order]]"],d["[[id]]"].get()),d["[[id]]"].next()):"map"===c&&(d["[[value]]"][f]=g.value[1]),g=i.next();a.setValue(d,"size",d["[[key]]"].length)}}(),i=function(){function c(a,b){return this.index=b,a>this.order}return function(d,e,f,g){var h,i,j,k;for(a.assertIsObject(e),a.assertIsFunction(f),h={index:0,order:e["[[order]]"][0]},e["[[change]]"]=!1,i=e["[[key]]"].length;h.index<i;)a.hasOwn(e["[[key]]"],h.index)&&(k=e["[[key]]"][h.index],j="map"===d?e["[[value]]"][h.index]:k,f.call(b(g),j,k,e)),e["[[change]]"]?(i=e["[[key]]"].length,a.some(e["[[order]]"],c,h),e["[[change]]"]=!1):h.index+=1,h.order=e["[[order]]"][h.index];return e}}(),j=function(b){return a.includes(a.assertIsObject(this)["[[key]]"],b)},k=function(b,c){return a.assertIsObject(c),c["[[id]]"].reset(),c["[[change]]"]=!0,c["[[key]]"].length=c["[[order]]"].length=c.size=0,"map"===b&&(c["[[value]]"].length=0),c},l=function(b,c,d){var e=a.getIndex(a.assertIsObject(c)["[[key]]"],d),f=!1;return e>-1&&("map"===b&&c["[[value]]"].splice(e,1),c["[[key]]"].splice(e,1),c["[[order]]"].splice(e,1),c["[[change]]"]=!0,c.size=c["[[key]]"].length,f=!0),f},m=function(b,c,d,e){var f=a.getIndex(a.assertIsObject(c)["[[key]]"],d);return"map"===b&&f>-1?c["[[value]]"][f]=e:("map"===b&&a.push(c["[[value]]"],e),a.push(c["[[key]]"],d),a.push(c["[[order]]"],c["[[id]]"].get()),c["[[id]]"].next(),c["[[change]]"]=!0,c.size=c["[[key]]"].length),c},n=function(b){var c,f,g,n,o,p=typeof Set===b&&!a.useShims&&Set;if(p)try{if(o=new p([0,-0]),typeof o.has!==b||typeof o.add!==b||typeof o.keys!==b||typeof o.values!==b||typeof o.entries!==b||typeof o.forEach!==b||typeof o.clear!==b||typeof o[d]!==b||typeof o[a.symIt]!==b)throw new Error("Missing methods");if(o.add(a.noop),o.add(a.noop),o.add(a.noop),o.add(o),o.add(NaN),o.add(NaN),o.add(d),o.add(-0),o.add(0),7!==o.size)throw new Error("Incorrect size")}catch(q){p=!q}return p?n=p:(g="set",f=function(b,c){a.setValue(this,"[[Set]]",a.assertIsObject(b)),a.setValue(this,"[[SetNextIndex]]",0),a.setValue(this,"[[SetIterationKind]]",c||"value"),a.setValue(this,"[[IteratorHasMore]]",!0)},a.setValue(f.prototype,"next",function(){var b,c=a.assertIsObject(this["[[Set]]"]),d=this["[[SetNextIndex]]"],f=this["[[SetIterationKind]]"],g=this["[[IteratorHasMore]]"];return d<c["[[key]]"].length&&g?(b={done:!1},"key+value"===f?b.value=[c["[[key]]"][d],c["[[key]]"][d]]:b.value=c["[[key]]"][d],this["[[SetNextIndex]]"]+=1):(this["[[IteratorHasMore]]"]=!1,b=a.assign({},e.DONE)),b}),a.setValue(f.prototype,a.symIt,a.returnThis),c=function(){return new f(this)},n=function(a){h(g,this,a)},a.setValue(n.prototype,"has",j),a.setValue(n.prototype,"add",function(a){return m(g,this,a)}),a.setValue(n.prototype,"clear",function(){return k(g,this)}),a.setValue(n.prototype,d,function(a){return l(g,this,a)}),a.setValue(n.prototype,"forEach",function(a,b){return i(g,this,a,b)}),a.setValue(n.prototype,"values",c),a.setValue(n.prototype,"keys",c),a.setValue(n.prototype,"entries",function(){return new f(this,"key+value")}),a.setValue(n.prototype,a.symIt,function(){return this.values()})),n}(typeof a.isObject),o=function(b){var c,f,g,n,o=typeof Map===b&&!a.useShims&&Map;if(o)try{if(n=new o([[1,1],[2,2]]),typeof n.has!==b||typeof n.set!==b||typeof n.keys!==b||typeof n.values!==b||typeof n.entries!==b||typeof n.forEach!==b||typeof n.clear!==b||typeof n[d]!==b||typeof n[a.symIt]!==b)throw new Error("Missing methods");if(n.set(a.noop,a),n.set(a.noop,a.noop),n.set(a.noop,n),n.set(n,a.noop),n.set(NaN,a),n.set(NaN,a.noop),n.set(d,a.noop()),n.set(-0,a.noop),n.set(0,a),n.get(0)!==a||n.get(-0)!==a||7!==n.size)throw new Error("Incorrect result")}catch(p){o=!p}return o?g=o:(f="map",c=function(b,c){a.setValue(this,"[[Map]]",a.assertIsObject(b)),a.setValue(this,"[[MapNextIndex]]",0),a.setValue(this,"[[MapIterationKind]]",c),a.setValue(this,"[[IteratorHasMore]]",!0)},a.setValue(c.prototype,"next",function(){var b,c=a.assertIsObject(this["[[Map]]"]),d=this["[[MapNextIndex]]"],f=this["[[MapIterationKind]]"],g=this["[[IteratorHasMore]]"];return a.assertIsObject(c),d<c["[[key]]"].length&&g?(b={done:!1},"key+value"===f?b.value=[c["[[key]]"][d],c["[[value]]"][d]]:b.value=c["[["+f+"]]"][d],this["[[MapNextIndex]]"]+=1):(this["[[IteratorHasMore]]"]=!1,b=a.assign({},e.DONE)),b}),a.setValue(c.prototype,a.symIt,a.returnThis),g=function(a){h(f,this,a)},a.setValue(g.prototype,"has",j),a.setValue(g.prototype,"set",function(a,b){return m(f,this,a,b)}),a.setValue(g.prototype,"clear",function(){return k(f,this)}),a.setValue(g.prototype,"get",function(b){var c=a.getIndex(a.assertIsObject(this)["[[key]]"],b);return c>-1?this["[[value]]"][c]:a.noop()}),a.setValue(g.prototype,d,function(a){return l(f,this,a)}),a.setValue(g.prototype,"forEach",function(a,b){return i(f,this,a,b)}),a.setValue(g.prototype,"values",function(){return new c(this,"value")}),a.setValue(g.prototype,"keys",function(){return new c(this,"key")}),a.setValue(g.prototype,"entries",function(){return new c(this,"key+value")}),a.setValue(g.prototype,a.symIt,function(){return this.entries()})),g}(typeof a.isObject),p=function(a,b,c){var d;return d=a.keys?c:a.values?b[c]:[c,b[c]]},q=function(b){a.setValue(b,"first",t.first),a.setValue(b,"last",t.last),a.setValue(b,"enumerate",u.EnumerateGenerator),a.setValue(b,"unique",t.uniqueGenerator),a.setValue(b,"flatten",t.flattenGenerator),a.setValue(b,"compact",t.compactGenerator),a.setValue(b,"initial",t.initialGenerator),a.setValue(b,"rest",t.restGenerator),a.setValue(b,"drop",t.dropGenerator),a.setValue(b,"dropWhile",t.dropWhileGenerator),a.setValue(b,"take",t.takeGenerator),a.setValue(b,"takeWhile",t.takeWhileGenerator),a.setValue(b,"every",t.every),a.setValue(b,"some",t.some),a.setValue(b,"filter",t.filterGenerator),a.setValue(b,"asArray",t.asArray),a.setValue(b,"asString",t.asString),a.setValue(b,"asObject",t.asObject),a.setValue(b,"asMap",t.asMap),a.setValue(b,"map",t.mapGenerator),a.setValue(b,"reduce",t.reduce),a.setValue(b,"difference",t.differenceGenerator),a.setValue(b,"join",t.join),a.setValue(b,"union",t.unionGenerator),a.setValue(b,"intersection",t.intersectionGenerator),a.setValue(b,"asSet",t.asSet),a.setValue(b,"chunk",t.chunkGenerator),a.setValue(b,"tap",t.tapGenerator),a.setValue(b,"then",t.then),a.setValue(b,"zip",t.zipGenerator)},r=function(){q(u.CounterGenerator.prototype),q(u.ArrayGenerator.prototype),q(u.StringGenerator.prototype),q(u.EnumerateGenerator.prototype),q(u.RepeatGenerator.prototype),q(u.UnzipGenerator.prototype),q(u.ThenGenerator.prototype)},s=function(b,c,d){d.from=a.toInteger(b),d.from<0?d.from=Math.max(d.length+d.from,0):d.from=Math.min(d.from,d.length),a.isUndefined(c)?d.to=d.length:d.to=a.toInteger(c),d.to<0?d.to=Math.max(d.length+d.to,0):d.to=Math.min(d.to,d.length),d.to=a.toLength(d.to)-1},t={reduce:function(b,c){var d,e,f,g,h;if(a.assertIsFunction(b),arguments.length>1&&(e=!0),d=this[a.symIt](),h=d.next(),!h.done)for(g=0;!h.done;)e||f?c=b(c,h.value,g):(c=h.value,f=!0),h=d.next(),g+=1;return c},tapGenerator:function(c,d){var f;return a.assertIsFunction(c),f=this[a.symIt],this[a.symIt]=function(){var g,h,i=0;return{next:function(){var j;return g=g||f(),h=h&&h.done?h:g.next(),h.done?j=a.assign({},e.DONE):(c.call(b(d),h.value,i),j={done:!1,value:h.value},i+=1),j}}},this},every:function(c,d){var e,f,g,h;for(a.assertIsFunction(c),e=this[a.symIt](),h=e.next(),f=!0,g=0;f&&!h.done;)c.call(b(d),h.value,g)?(h=e.next(),g+=1):f=!1;return f},some:function(c,d){var e,f,g,h;for(a.assertIsFunction(c),e=this[a.symIt](),h=e.next(),f=!1,g=0;!f&&!h.done;)c.call(b(d),h.value,g)?f=!0:(h=e.next(),g+=1);return f},asArray:function(){for(var b=this[a.symIt](),c=b.next(),d=[];!c.done;)a.push(d,c.value),c=b.next();return d},join:function(b){var c,d=this[a.symIt](),e=d.next(),f="";for(a.isUndefined(b)&&(b=",");!e.done;)f+=e.value,c=d.next(),c.done||(f+=b),e=c;return f},asString:function(){return this.join("")},asObject:function(){for(var b=this[a.symIt](),c=b.next(),d={},e=0;!c.done;)d[e]=c.value,c=b.next(),e+=1;return d},asMap:function(b){return function(c){var d,e,f=this[a.symIt](),g=f.next();if(arguments.length?(a.assertIsFunction(c),d=new c):typeof Map===b&&(d=new Map),!g.done)for(e=0;!g.done;)d.set(e,g.value),g=f.next(),e+=1;return d}}(typeof a.isObject),asSet:function(b){return function(c){var d,e=this[a.symIt](),f=e.next();for(arguments.length?(a.assertIsFunction(c),d=new c):typeof Set===b&&(d=new Set);!f.done;)d.add(f.value),f=e.next();return d}}(typeof a.isObject),dropGenerator:function(b){var c=this[a.symIt],d=a.toLength(b);return this[a.symIt]=function(){var b,f,g=0;return{next:function(){var h;for(b=b||c(),f=f&&d>g?f:b.next();!f.done&&d>g;)f=b.next(),g+=1;return f.done?h=a.assign({},e.DONE):(h={done:!1,value:f.value},g+=1),h}}},this},restGenerator:function(){return this.drop(1)},dropWhileGenerator:function(c,d){var f;return a.assertIsFunction(c),f=this[a.symIt],this[a.symIt]=function(){var g,h,i,j=0;return{next:function(){var k;for(g=g||f(),i=i&&!h?i:g.next();!h&&!i.done&&c.call(b(d),i.value,j);)i=g.next(),j+=1;return h=!0,i.done?k=a.assign({},e.DONE):(k={done:!1,value:i.value},j+=1),k}}},this},takeGenerator:function(b){var c=this[a.symIt],d=a.toLength(b);return this[a.symIt]=function(){var b,f,g=0;return{next:function(){var h;return b=b||c(),f=f&&g>=d?f:b.next(),!f.done&&d>g?(h={done:!1,value:f.value},g+=1):h=a.assign({},e.DONE),h}}},this},takeWhileGenerator:function(c,d){var f;return a.assertIsFunction(c),f=this[a.symIt],this[a.symIt]=function(){var g,h,i=0;return{next:function(){var j;return g=g||f(),h=h&&h.done?h:g.next(),!h.done&&c.call(b(d),h.value,i)?(j={done:!1,value:h.value},i+=1):j=a.assign({},e.DONE),j}}},this},chunkGenerator:function(b){var c=this[a.symIt],d=a.toLength(b)||1;return this[a.symIt]=function(){var b,f;return{next:function(){var g,h;for(b=b||c(),f=f||b.next(),f.done||(g=[]);!f.done&&g&&g.length<d;)a.push(g,f.value),f=b.next();return h=!f.done||g&&g.length?{done:!1,value:g}:a.assign({},e.DONE)}}},this},compactGenerator:function(){var b=this[a.symIt];return this[a.symIt]=function(){var c,d;return{next:function(){var f;for(c=c||b(),d=d&&d.done?d:c.next();!d.done&&!d.value;)d=c.next();return f=d.done?a.assign({},e.DONE):{done:!1,value:d.value}}}},this},differenceGenerator:function(b){var d,f=this[a.symIt];return this[a.symIt]=function(){var g,h;return{next:function(){var i;for(g=g||f(),h=h&&h.done?h:g.next(),d=d||new n(c(b).values());!h.done&&d.has(h.value);)h=g.next();return i=h.done?a.assign({},e.DONE):{done:!1,value:h.value}}}},this},initialGenerator:function(){var b=this[a.symIt];return this[a.symIt]=function(){var c,d,f;return{next:function(){var g;return c=c||b(),f=f||c.next(),d=c.next(),f.done||d.done?g=a.assign({},e.DONE):(g={done:!1,value:f.value},f=d),g}}},this},first:function(){var b=this[a.symIt]().next();return b.done?a.noop():b.value},last:function(){for(var b,c,d=this[a.symIt](),e=d.next();!e.done;){if(b=d.next(),b.done){c=e.value;break}e=b}return c},uniqueGenerator:function(){var b=this[a.symIt];return this[a.symIt]=function(){var c,d,f;return{next:function(){var g;for(d=d||b(),c=c||new n,f=f||d.next();!f.done&&c.has(f.value);)f=d.next();return f.done?(g=a.assign({},e.DONE),g.value=c):(g={done:!1,value:f.value},c.add(f.value),f=d.next()),g}}},this},intersectionGenerator:function(){function b(a){return a.has(this.value)}function d(b,d){return(a.isArrayLike(d)||a.isFunction(d[a.symIt]))&&a.push(b,new n(c(d))),b}return function(){var c=this[a.symIt],f=arguments;return this[a.symIt]=function(){var g,h,i,j;return{next:function(){var k;for(h=h||a.reduce(f,d,[]),i=i||new n,g=g||c(),j=j&&j.done?j:g.next();!j.done;){if(!i.has(j.value)){if(a.every(h,b,j)){i.add(j.value);break}i.add(j.value)}j=g.next()}return k=j.done?a.assign({},e.DONE):{done:!1,value:j.value}}}},this}}(),unionGenerator:function(){var b=this[a.symIt],d=arguments;return this[a.symIt]=function(){var f,g,h,i,j,k,l;return{next:function(){var m;for(g=g||b(),f=f||new n,h=h&&h.done?h:g.next();!h.done&&!i;){if(!f.has(h.value)){f.add(h.value);break}h=g.next()}if(h.done&&d.length)for(i=i||new u.ArrayGenerator(d)[a.symIt](),(!l||l.done)&&(k=i.next());!k.done||!l;){if((a.isArrayLike(k.value)||a.isFunction(k.value[a.symIt]))&&((!j||l&&l.done)&&(j=a.isArrayLike(k.value)?c(k.value,!0)[a.symIt]():k.value[a.symIt]()),j))for(l=j.next();!l.done;){if(!f.has(l.value)){f.add(l.value);break}l=j.next()}if(!l.done)break;k=i.next()}return!h.done||l&&!l.done?m={done:!1,value:l?l.value:h.value}:(m=a.assign({},e.DONE),m.value=f),m}}},this},zipGenerator:function(){function b(b,c){var d=c.next();return d.done?a.push(b.value,a.noop()):(a.push(b.value,d.value),b.done=!1),b}function d(b,d){return(a.isArrayLike(d)||a.isFunction(d[a.symIt]))&&a.push(b,c(d,!0)[a.symIt]()),b}return function(){var c=this[a.symIt],f=arguments;return this[a.symIt]=function(){var g,h;return{next:function(){var i;for(g=g||a.reduce(f,d,[c()]);(!h||!h.done)&&(h=a.reduce(g,b,{value:[],done:!0}),h.done););return i=h.done?a.assign({},e.DONE):{done:!1,value:h.value}}}},this}}(),flattenGenerator:function(){function b(a,b,c){return a.set(b,{index:0,prev:c})}return function(c){var g=this[a.symIt];return this[a.symIt]=function(){var h,i,j,k,l;return{next:function(){var m,n,p,q;for(i=i||g(),h=h||new o,j=!j||l?i.next():j,l=!1;!j.done&&!q;){if(!h.size){if(!a.isArray(j.value,c)){n=j.value,l=!0;break}k=j.value,b(h,k,null)}for(;h.size;)if(p=h.get(k),p.index>=k.length)h[d](k),k=p.prev;else{if(n=k[p.index],!a.isArray(n,c)){p.index+=1,q=!0;break}f(h,n),b(h,n,k),k=n,p.index+=1}q||(j=i.next())}return m=j.done?a.assign({},e.DONE):{done:!1,value:n}}}},this}}(),mapGenerator:function(c,d){var f;return a.assertIsFunction(c),f=this[a.symIt],this[a.symIt]=function(){var g,h,i=0;return{next:function(){var j;return g=g||f(),h=h&&h.done?h:g.next(),h.done?j=a.assign({},e.DONE):(j={done:!1,value:c.call(b(d),h.value,i)},i+=1),j}}},this},filterGenerator:function(c,d){var f;return a.assertIsFunction(c),f=this[a.symIt],this[a.symIt]=function(){var g,h,i=0;return{next:function(){var j;for(g=g||f(),h=h&&h.done?h:g.next();!h.done&&!c.call(b(d),h.value,i);)h=g.next(),i+=1;return h.done?j=a.assign({},e.DONE):(j={done:!1,value:h.value},i+=1),j}}},this},then:function(b){var c,d=this[a.symIt];if(a.isUndefined(b))this[a.symIt]=function(){var b,c,f=0;return{next:function(){var g;return b=b||d(),c=c&&c.done?c:b.next(),c.done?g=a.assign({},e.DONE):(g={done:!1,value:c.value},f+=1),g}}},c=this;else{if(!a.isFunction(b))throw new TypeError("If not undefined, generator must be a function");c=new u.ThenGenerator(b,this,a.chop(arguments,1))}return c}},u={ThenGenerator:function(b,c,d){this[a.symIt]=function(){var f,g,h=0;return{next:function(){var i;return f||(f=a.isFunction(b)?b.apply(c,d):b[a.symIt]()),g=g&&g.done?g:f.next(),g.done?i=a.assign({},e.DONE):(i={done:!1,value:g.value},h+=1),i}}}},CounterGenerator:function(){function b(b){var c=b.to;return{next:function(){var d;return b.to<=b.from?c<=b.from?(d={done:!1,value:c},c+=b.by):d=a.assign({},e.DONE):c>=b.from?(d={done:!1,value:c},c-=b.by):d=a.assign({},e.DONE),d}}}function c(b){var c=b.from;return{next:function(){var d;return b.from<=b.to?c<=b.to?(d={done:!1,value:c},c+=b.by):d=a.assign({},e.DONE):c>=b.to?(d={done:!1,value:c},c-=b.by):d=a.assign({},e.DONE),d}}}function d(a){var d,e;return d||(d=a.reversed?b(a):c(a)),{next:function(){return e=e&&e.done?e:d.next()}}}function f(){if(!(this instanceof f))return new f;var b={reversed:!1,from:0,to:a.MAX_SAFE_INTEGER,by:1};a.setValue(this,"state",function(){return a.assign({},b)}),a.setValue(this,a.symIt,function(){return d(a.assign({},b))}),a.setValue(this,"from",function(c){return b.from=a.clampToSafeIntegerRange(c),this}),a.setValue(this,"to",function(c){return b.to=a.clampToSafeIntegerRange(c),this}),a.setValue(this,"by",function(c){if(b.by=Math.abs(a.clampToSafeIntegerRange(c)),!b.by)throw new TypeError("can not count by zero");return this}),a.setValue(this,"reverse",function(){return b.reversed=!b.reversed,this})}return f}(),ArrayGenerator:function(){function b(b,c){var d,f,h,i;return c.length?(d=u.CounterGenerator(),d.from(c.from).to(c.to).by(c.by),g(c,d),h={next:function(){var g;return f=f||d[a.symIt](),i=i&&i.done?i:f.next(),g=i.done?a.assign({},e.DONE):{done:!1,value:p(c,b,i.value)}}}):h={next:function(){return a.assign({},e.DONE)}},h}function c(d){if(!(this instanceof c))return new c(d);var f=a.isArrayLike(d)?d.length:0,g=a.assign({length:f,reversed:!1,from:0,to:f-1,by:1},e.OPTS.VALUES);a.setValue(this,"state",function(){return a.assign({},g)}),a.setValue(this,a.symIt,function(){return b(d,a.assign({},g))}),a.setValue(this,"entries",function(){return a.assign(g,e.OPTS.ENTRIES),this}),a.setValue(this,"values",function(){return a.assign(g,e.OPTS.VALUES),this}),a.setValue(this,"keys",function(){return a.assign(g,e.OPTS.KEYS),this}),a.setValue(this,"reverse",function(){return g.reversed=!g.reversed,this}),a.setValue(this,"slice",function(a,b){return s(a,b,g),this})}return c}(),StringGenerator:function(){function b(b,c,d){var e;return e=b.keys?d:b.values?a.fromCodePoint(a.codePointAt(c)):[d,a.fromCodePoint(a.codePointAt(c))]}function c(c,d){var f,h,i,j,k;return d.length?(f=u.CounterGenerator(d),f.from(d.from).to(d.to).by(d.by),g(d,f),i={next:function(){var g,i,l;if(h=h||f[a.symIt](),k=k||h.next(),!k.done)for(;!k.done&&!g;)j?(j=!j,d.reversed&&(g={done:!1,value:b(d,i+l,k.value)})):d.reversed?(i=c[k.value-1],l=c[k.value],j=a.isSurrogatePair(i,l),j||(g={done:!1,value:b(d,l,k.value)})):(i=c[k.value],l=c[k.value+1],j=a.isSurrogatePair(i,l),g={done:!1,value:b(d,i+l,k.value)}),k=h.next();return g||a.assign({},e.DONE)}}):{next:function(){return a.assign({},e.DONE)}}}function d(b){if(!(this instanceof d))return new d(b);var f=a.isArrayLike(b)?b.length:0,g=a.assign({length:f,reversed:!1,from:0,to:f-1,by:1},e.OPTS.VALUES);a.setValue(this,"state",function(){return a.assign({},g)}),a.setValue(this,a.symIt,function(){return c(b,a.assign({},g))}),a.setValue(this,"entries",function(){return a.assign(g,e.OPTS.ENTRIES),this}),a.setValue(this,"values",function(){return a.assign(g,e.OPTS.VALUES),this}),a.setValue(this,"keys",function(){return a.assign(g,e.OPTS.KEYS),this}),a.setValue(this,"reverse",function(){return g.reversed=!g.reversed,this}),a.setValue(this,"slice",function(c,d){var e,f;return s(c,d,g),g.from&&(e=b[g.from-1],f=b[g.from],a.isSurrogatePair(e,f)&&(g.from+=1)),g.to&&(e=b[g.to-1],f=b[g.to],a.isSurrogatePair(e,f)&&(g.to-=1)),this})}return d}(),EnumerateGenerator:function(){function b(b,c){var d,f,g,h;if(c.own)f=a.keys(b);else{f=[];for(h in b)a.push(f,h)}return{next:function(){var h;return d=d||new u.ArrayGenerator(f)[a.symIt](),g=g&&g.done?g:d.next(),h=g.done?a.assign({},e.DONE):{done:!1,value:p(c,b,g.value)}}}}function c(d){if(!(this instanceof c))return new c(d);var f=a.assign({own:!1},e.OPTS.VALUES);a.setValue(this,"state",function(){return a.assign({},f)}),a.setValue(this,a.symIt,function(){return b(d,a.assign({},f))}),a.setValue(this,"entries",function(){return a.assign(f,e.OPTS.ENTRIES),this}),a.setValue(this,"values",function(){return a.assign(f,e.OPTS.VALUES),this}),a.setValue(this,"keys",function(){return a.assign(f,e.OPTS.KEYS),this}),a.setValue(this,"own",function(){return f.own=!f.own,this})}return c}(),RepeatGenerator:function(){function b(a){return{next:function(){return{done:!1,value:a}}}}function c(d){return this instanceof c?void a.setValue(this,a.symIt,function(){return b(d)}):new c(d)}return c}(),UnzipGenerator:function(){
function b(b){var d,f,g,h;return a.isArrayLike(b)||a.isFunction(b[a.symIt])?(f=c(b).first(),a.isObjectLike(f)||(f=[]),h=c(b).rest().asArray()):f=h=[],{next:function(){var b;return d=d||t.zipGenerator.apply(c(f,!0),h)[a.symIt](),g=g&&g.done?g:d.next(),b=g.done?a.assign({},e.DONE):{done:!1,value:g.value}}}}function d(c){return this instanceof d?void a.setValue(this,a.symIt,function(){return b(c)}):new d(c)}return d}()};return r(),function(){function b(b,c,d){var e=new u.CounterGenerator;return a.isNumber(b)&&(a.isNil(c)?e.to(b):e.from(b).to(c),a.isNil(d)||e.by(d)),e}return c=function(c,d,e){var f;return f=a.isNil(c)||a.isNumber(c)?b(c,d,e):a.isArray(c,d)?new u.ArrayGenerator(c):a.isString(c)?new u.StringGenerator(c):a.isFunction(c[a.symIt])?new u.ThenGenerator(c,{},a.chop(arguments,1)):new u.EnumerateGenerator(c)},a.setValue(c,"$",{}),a.setValue(c.$,"Map",o),a.setValue(c.$,"Set",n),a.forEach(a.keys(a),function(b){a.setValue(c.$,b,a[b])}),a.setValue(c,"array",u.ArrayGenerator),a.setValue(c,"string",u.StringGenerator),a.setValue(c,"enumerate",u.EnumerateGenerator),a.setValue(c,"repeat",u.RepeatGenerator),a.setValue(c,"unzip",u.UnzipGenerator),a.setValue(c,"iterator",a.symIt),c}()});