/**
 * @file {@link http://xotic750.github.io/reiterate/ reiterate}
 * A modern iteration library.
 * @version 0.1.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <http://www.gnu.org/licenses/gpl-3.0.html> GPL-3.0+}
 * @module reiterate
 */
!function(a,b){"use strict";var c=!1,d=typeof b,e=typeof Object.prototype,f=function(a){var b;return a?(b=typeof a,b=b===e||b===d):b=!1,b},g=function(a){var b,d;if(a){d={};try{b=a(d,d,d)&&a}catch(e){}}return(!b||c)&&(b=function(a,b,c){if(!f(a))throw new TypeError("called on non-object");return a[b]=c.value,a}),b}(Object.defineProperty);if(typeof define===d&&define.amd)define([],function(){return b(f,g,c)});else if(typeof module===e&&module.exports)module.exports=b(f,g,c);else{if(Object.prototype.hasOwnProperty.call(a,"reiterate"))throw new Error('Unable to define "reiterate"');g(a,"reiterate",{enumerable:!1,writable:!0,configurable:!0,value:b(f,g,c)})}}(this,function(a,b,c){"use strict";var d,e="delete",f="for",g=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,h=Number.MIN_SAFE_INTEGER||-g,i={DONE:{done:!0,value:void 0},OPTS:{ENTRIES:{entries:!0,values:!1,keys:!1},VALUES:{entries:!1,values:!0,keys:!1},KEYS:{entries:!1,values:!1,keys:!0}}},j=function(a){return typeof Symbol!==a||c?"@@iterator":Symbol.iterator}(typeof a),k=function(a){return null==a},l=function(a){if(k(a))throw new TypeError("Cannot convert argument to object");return a},m=function(b){return function(c){var d;return d=a(l(c))?c:b.call(c)}}(Object.prototype.valueOf),n=function(a){return function(b,c){return a.call(m(b),c)}}(Object.prototype.hasOwnProperty),o=function(a){return function(b){return a.call(b)}}(Object.prototype.toString),p=function(a){return function(c,d,e,f){if(!f&&n(c,d))throw new Error('property "'+d+'" already exists on object');return a.value=e,b(c,d,a)}}({enumerable:!1,writable:!0,configurable:!0,value:void 0}),q=function(b,c){return function(d){var e=o(d),f=!1;return a(d)&&(e=o(d),e===b?f=!0:"[object GeneratorFunction]"===e&&(f=typeof d===c)),f}}(o(k),typeof k),r=function(a){return function(b){return!!b&&typeof b===a}}(typeof Object.prototype),s=function(a){return function(b){return r(b)&&o(b)===a}}(o(new Date)),t=function(b,c){var d=["toString","valueOf"],e=d.reverse();return function(f,g){var h,i,j,k;if(a(f)){for(h=g===b||g!==c&&s(f)?d:e,j=0;2>j&&(i=h[j],!q(f[i])||(k=f[i](),a(k)));)j+=1;throw new TypeError("ordinaryToPrimitive returned an object")}return k=f}}(typeof e,typeof g),u=function(a){var b,c,d="undefined",h=typeof!1,i=typeof g,j=typeof e;return typeof Symbol===a&&Symbol[f]&&(b=typeof Symbol[f](f)),c=function(a){var e,f;if(null===a)f=0;else if(e=typeof a,e===i)f=a;else if(e===d)f=NaN;else if(e===h)f=a?1:0;else if(e===j)f=Number(a);else{if(b&&e===b)throw new TypeError("Can not convert symbol to a number");f=c(t(a,i))}return f}}(typeof a),v=function(a){var b;return b=a&&!c?a:function(a){return u(a)&&(u(a>=0)||-1)}}(Math.sign),w=function(a,b){var d;return d=a&&!c?a:function(a){return typeof a===b&&isNaN(a)}}(Number.isNaN,typeof g),x=function(a,b){var d;return d=a&&!c?a:function(a){return typeof a===b&&isFinite(a)}}(Number.isFinite,typeof g),y=function(a){var b=u(a);return w(b)?b=0:b&&x(b)&&(b=v(b)*Math.floor(Math.abs(b))),b},z=function(a,b,c){return function(d){var e=typeof d;return e===b||e===c&&o(d)===a}}(o(g),typeof g,typeof Object.prototype),A=function(a){return function(b){return typeof b===a}}("undefined"),B=function(a,b,c){return function(d){var e=typeof d;return e===b||e===c&&o(d)===a}}(o(e),typeof e,typeof Object.prototype),C=function(a){return function(b){return typeof b===a&&b>-1&&b%1===0&&g>=b}}(typeof g),D=function(a){return!k(a)&&!q(a)&&C(a.length)},E=function(a,b){var d;return d=a&&!c?a:"[object Array]"===b?function(a){return D(a)&&o(a)===b}:function(a){return D(a)&&!B(a)&&n(a,"length")&&!n(a,"callee")},function(a,b){var c;return c=b?D(a)&&!B(a):d(a)}}(Array.isArray,o([])),F=function(a,b){var c,d,e=!1;return B(a)&&B(b)&&(c=a.charCodeAt(),c>=55296&&56319>=c&&(d=b.charCodeAt(),d>=56320&&57343>=d&&(e=!0))),e},G=function(a){var b;return b=a&&!c?function(b,c){return a.call(b,c)}:function(a,b){var c,d,e,f=String(l(a)),g=f.length,h=y(b);return h>=0&&g>h&&(c=f.charCodeAt(h),c>=55296&&56319>=c&&g>h+1&&(d=f.charCodeAt(h+1),d>=56320&&57343>=d&&(e=1024*(c-55296)+d-56320+65536))),e||c}}(String.prototype.codePointAt),H=function(a){return x(a)&&y(a)===a},I=function(a,b){var d;return d=a&&!c?a:function(){var a=16384,c=[];return S(arguments,function(d,e){var f,g,h=u(e);if(!H(h)||0>h||h>1114111)throw new RangeError("Invalid codePnt point: "+h);return 65535>=h?c.push(h):(h-=65536,f=(h>>10)+55296,g=h%1024+56320,c.push(f,g)),c.length>a&&(d+=b.apply(null,c),c.length=0),d},"")+b.apply(null,c)}}(String.fromCodePoint,String.fromCharCode),J=function(a){if(!q(a))throw new TypeError("argument must be a function");return a},K=function(b){if(!a(b))throw new TypeError("argument must be a object");return b},L=function(a){var b=+a;return w(b)?b=0:h>b?b=h:b>g&&(b=g),b},M=function(a){var b=y(a);return 0>=b?b=0:b>g&&(b=g),b},N=function(a,b){if(a.has(b))throw new TypeError("circular object");return!1},O=function(a,b){return a.reversed&&b.reverse(),b},P=function(a,b,c){var d,e,f,g=m(a),h=M(g.length),i=y(b),j=[],k=0;for(f=0>i?Math.max(h+i,0):Math.min(i,h),d=A(c)?h:y(c),e=0>d?Math.max(h+d,0):Math.min(d,h),e=M(e),j.length=M(Math.max(e-f,0));e>f;)f in g&&(j[k]=g[f]),k+=1,f+=1;return j},Q=function(a){var b;return b=a&&!c?function(b){return a.apply(b,P(arguments,1))}:function(a,b,c){var d,e,f=m(a);for(J(b),d=M(f.length),e=0;d>e;)e in f&&b.call(c,f[e],e,f),e+=1}}(Array.prototype.forEach),R=function(a){var b;return b=a&&!c?function(b){return a.apply(b,P(arguments,1))}:function(a,b,c){var d,e,f,g=m(a);for(J(b),e=M(g.length),d=!1,f=0;e>f&&!(f in g&&(d=!!b.call(c,g[f],f,g)));)f+=1;return d}}(Array.prototype.some),S=function(a){var b,d;return a&&!c?d=function(b){return a.apply(b,P(arguments,1))}:(b="reduce of empty array with no initial value",d=function(a,c,d){var e,f,g,h,i=m(a);if(J(c),f=M(i.length),!f&&1===arguments.length)throw new TypeError(b);if(h=0,arguments.length>1)e=d;else{for(g=!1;!g&&f>h;)g=h in i,g&&(e=i[h],h+=1);if(!g)throw new TypeError(b)}for(;f>h;)h in i&&(e=c.call(void 0,e,i[h],h,i)),h+=1;return e}),d}(Array.prototype.reduce),T=function(a){var b;return b=a&&!c?function(b){return a.apply(b,P(arguments,1))}:function(a,b,c){var d,e,f,g=m(a);for(J(b),d=M(g.length),e=!0,f=0;d>f&&(!(f in g)||(e=!!b.call(c,g[f],f,g)));)f+=1;return e}}(Array.prototype.every),U=function(a){var b;return b=a&&!c?a:function(a){var b,c=m(a),d=[];for(b in c)n(c,b)&&d.push(b);return d}}(Object.keys),V=function(a){var b;return b=a&&!c?a:function(a){function b(a){c[a]=this[a]}var c=m(a);return Q(P(arguments,1),function(a){k(a)||Q(U(a),b,a)}),c}}(Object.assign),W=function(a){var b=a;return b=a&&!c?function(b){return a.apply(b,P(arguments,1))}:function(a,b,c){var d,e=m(a),f=M(e.length),g=-1;if(f&&(c=arguments.length>1?y(c):0,f>c))for(0>c&&(c=f-Math.abs(c),0>c&&(c=0)),d=c;f>d;){if(d in e&&b===e[d]){g=d;break}d+=1}return g}}(Array.prototype.indexOf),X=function(){function a(){return this instanceof a?void p(this,"id",[0]):new a}var b=[1];return p(a.prototype,"next",function(){for(var a,c=[],d=this.id.length,e=Math.max(d,1),f=0,g=0;e>g||f;)a=f+(d>g?this.id[g]:0)+g<b[g],c.push(a%10),f=Math.floor(a/10),g+=1;return this.id=c,this}),p(a.prototype,"get",function(){return this.id.join("")}),a}(),Y=function(a,b){return a===b||w(a)&&w(b)},Z=function(a,b){var c;if(0===b||w(b))for(c=a.length-1;c>=0&&!Y(b,a[c]);)c-=1;else c=W(a,b);return c},$=function(a,b){return Z(a,b)>-1},_=function(){function a(a){var b;return k(a)||(D(a)?b=d(a,!0):a[j]&&(b=a),b=b[j]()),b}return function(b,c,d){var e,f,g,h=a(d);if("map"===b&&p(c,"[[value]]",[]),p(c,"[[key]]",[]),p(c,"[[order]]",[]),p(c,"[[id]]",new X),p(c,"[[changed]]",!1),h)for(f=h.next();!f.done;)g="map"===b?f.value[0]:f.value,$(c["[[key]]"],g)?"map"===b&&(c["[[value]]"][e]=f.value[1]):("map"===b&&c["[[value]]"].push(f.value[1]),c["[[key]]"].push(g),c["[[order]]"].push(c["[[id]]"].get()),c["[[id]]"].next()),f=h.next();p(c,"size",c["[[key]]"].length)}}(),aa=function(){function a(a,b){return this.index=b,a>this.order}return function(b,c,d,e){var f,g,h,i;for(K(c),J(d),f={index:0,order:c["[[order]]"][0]},c["[[change]]"]=!1,g=c["[[key]]"].length;f.index<g;)n(c["[[key]]"],f.index)&&(i=c["[[key]]"][f.index],h="map"===b?c["[[value]]"][f.index]:i,d.call(e,h,i,c)),c["[[change]]"]?(g=c["[[key]]"].length,R(c["[[order]]"],a,f),c["[[change]]"]=!1):f.index+=1,f.order=c["[[order]]"][f.index];return c}}(),ba=function(a){return $(K(this)["[[key]]"],a)},ca=function(a,b){return K(b),b["[[id]]"]=new X,b["[[change]]"]=!0,b["[[key]]"].length=b["[[order]]"].length=b.size=0,"map"===a&&(b["[[value]]"].length=0),b},da=function(a,b,c){var d=Z(K(b)["[[key]]"],c),e=!1;return d>-1&&("map"===a&&b["[[value]]"].splice(d,1),b["[[key]]"].splice(d,1),b["[[order]]"].splice(d,1),b["[[change]]"]=!0,b.size=b["[[key]]"].length,e=!0),e},ea=function(a,b,c,d){var e=Z(K(b)["[[key]]"],c);return"map"===a&&e>-1?b["[[value]]"][e]=d:("map"===a&&b["[[value]]"].push(d),b["[[key]]"].push(c),b["[[order]]"].push(b["[[id]]"].get()),b["[[id]]"].next(),b["[[change]]"]=!0,b.size=b["[[key]]"].length),b},fa=function(a){var b,d,f=typeof Set===a&&!c&&Set;return f?d=f:(b="set",d=function(a){_(b,this,a)},p(d.prototype,"has",ba),p(d.prototype,"add",function(a){return ea(b,this,a)}),p(d.prototype,"clear",function(){return ca(b,this)}),p(d.prototype,e,function(a){return da(b,this,a)}),p(d.prototype,"forEach",function(a,c){return aa(b,this,a,c)}),p(d.prototype,"values",function(){function a(){var a,d=0;p(this,j,function(){return this}),p(this,"next",function(){var e;return K(b),d<c.length&&!a?(e={done:!1,value:c[d]},d+=1):a=e=V({},i.DONE),e})}var b=this,c=b["[[key]]"];return new a}),p(d.prototype,"keys",function(){function a(){var a,d=0;p(this,j,function(){return this}),p(this,"next",function(){var e;return K(b),d<c.length&&!a?(e={done:!1,value:d},d+=1):a=e=V({},i.DONE),e})}var b=this,c=b["[[key]]"];return new a}),p(d.prototype,"entries",function(){function a(){var a,d=0;p(this,j,function(){return this}),p(this,"next",function(){var e;return K(b),d<c.length&&!a?(e={done:!1,value:[d,c[d]]},d+=1):a=e=V({},i.DONE),e})}var b=this,c=b["[[key]]"];return new a}),p(d.prototype,j,function(){return this.values()})),d}(typeof a),ga=function(a){var b,d,f,g,h,k=typeof Map===a&&!c&&Map;if(k)try{if(h=new k([[1,1],[2,2]]),typeof h.has!==a||typeof h.set!==a||typeof h.keys!==a||typeof h.values!==a||typeof h.entries!==a||typeof h.forEach!==a||typeof h.clear!==a||typeof h[e]!==a||typeof h[j]!==a)throw new Error("Missing methods");if(b={},d=function(){},h.set(d,b),h.set(d,d),h.set(d,h),h.set(h,d),h.set(NaN,b),h.set(NaN,d),h.set("key",void 0),h.set(-0,d),h.set(0,b),h.get(0)!==b||h.get(-0)!==b||7!==h.size)throw new Error("Incorrect result")}catch(l){k=null}return k?g=k:(f="map",g=function(a){_(f,this,a)},p(g.prototype,"has",ba),p(g.prototype,"set",function(a,b){return ea(f,this,a,b)}),p(g.prototype,"clear",function(){return ca(f,this)}),p(g.prototype,"get",function(a){var b=Z(K(this)["[[key]]"],a);return b>-1?this["[[value]]"][b]:void 0}),p(g.prototype,e,function(a){return da(f,this,a)}),p(g.prototype,"forEach",function(a,b){return aa(f,this,a,b)}),p(g.prototype,"values",function(){function a(){var a,e=0;p(this,j,function(){return this}),p(this,"next",function(){var f;return K(b),e<c.length&&!a?(f={done:!1,value:d[e]},e+=1):a=f=V({},i.DONE),f})}var b=this,c=b["[[key]]"],d=b["[[value]]"];return new a}),p(g.prototype,"keys",function(){function a(){var a,d=0;p(this,j,function(){return this}),p(this,"next",function(){var e;return K(b),d<c.length&&!a?(e={done:!1,value:c[d]},d+=1):a=e=V({},i.DONE),e})}var b=this,c=b["[[key]]"];return new a}),p(g.prototype,"entries",function(){function a(){var a,e=0;p(this,j,function(){return this}),p(this,"next",function(){var f;return K(b),e<c.length&&!a?(f={done:!1,value:[c[e],d[e]]},e+=1):a=f=V({},i.DONE),f})}var b=this,c=b["[[key]]"],d=b["[[value]]"];return new a}),p(g.prototype,j,function(){return this.entries()})),g}(typeof a),ha=function(a,b,c){var d;return d=a.keys?c:a.values?b[c]:[c,b[c]]},ia=function(a){p(a,"first",la.first),p(a,"last",la.last),p(a,"enumerate",ma.EnumerateGenerator),p(a,"unique",la.uniqueGenerator),p(a,"flatten",la.flattenGenerator),p(a,"compact",la.compactGenerator),p(a,"initial",la.initialGenerator),p(a,"rest",la.restGenerator),p(a,"drop",la.dropGenerator),p(a,"dropWhile",la.dropWhileGenerator),p(a,"take",la.takeGenerator),p(a,"takeWhile",la.takeWhileGenerator),p(a,"every",la.every),p(a,"some",la.some),p(a,"filter",la.filterGenerator),p(a,"asArray",la.asArray),p(a,"asString",la.asString),p(a,"asObject",la.asObject),p(a,"asMap",la.asMap),p(a,"map",la.mapGenerator),p(a,"reduce",la.reduce),p(a,"difference",la.differenceGenerator),p(a,"join",la.join),p(a,"union",la.unionGenerator),p(a,"intersection",la.intersectionGenerator),p(a,"asSet",la.asSet),p(a,"chunk",la.chunkGenerator),p(a,"tap",la.tapGenerator),p(a,"then",la.then),p(a,"zip",la.zipGenerator)},ja=function(){ia(ma.CounterGenerator.prototype),ia(ma.ArrayGenerator.prototype),ia(ma.StringGenerator.prototype),ia(ma.EnumerateGenerator.prototype),ia(ma.RepeatGenerator.prototype),ia(ma.UnzipGenerator.prototype),ia(ma.ThenGenerator.prototype)},ka=function(a,b,c){c.from=y(a),c.from<0?c.from=Math.max(c.length+c.from,0):c.from=Math.min(c.from,c.length),A(b)?c.to=c.length:c.to=y(b),c.to<0?c.to=Math.max(c.length+c.to,0):c.to=Math.min(c.to,c.length),c.to=M(c.to)-1},la={reduce:function(a,b){var c,d,e,f,g;if(J(a),arguments.length>1&&(d=!0),c=this[j](),g=c.next(),!g.done)for(f=0;!g.done;)d||e?b=a(b,g.value,f):(b=g.value,e=!0),g=c.next(),f+=1;return b},tapGenerator:function(a,b){var c;return J(a),c=this[j],this[j]=function(){var d,e,f=0;return{next:function(){var g;return d=d||c(),e=e&&e.done?e:d.next(),e.done?g=V({},i.DONE):(a.call(b,e.value,f),g={done:!1,value:e.value},f+=1),g}}},this},every:function(a,b){var c,d,e,f;for(J(a),c=this[j](),f=c.next(),d=!0,e=0;d&&!f.done;)a.call(b,f.value,e)?(f=c.next(),e+=1):d=!1;return d},some:function(a,b){var c,d,e,f;for(J(a),c=this[j](),f=c.next(),d=!1,e=0;!d&&!f.done;)a.call(b,f.value,e)?d=!0:(f=c.next(),e+=1);return d},asArray:function(){for(var a=this[j](),b=a.next(),c=[];!b.done;)c.push(b.value),b=a.next();return c},join:function(a){var b,c=this[j](),d=c.next(),e="";for(A(a)&&(a=",");!d.done;)e+=d.value,b=c.next(),b.done||(e+=a),d=b;return e},asString:function(){return this.join("")},asObject:function(){for(var a=this[j](),b=a.next(),c={},d=0;!b.done;)c[d]=b.value,b=a.next(),d+=1;return c},asMap:function(){var a,b=this[j](),c=b.next(),d=new ga;if(!c.done)for(a=0;!c.done;)d.set(a,c.value),c=b.next(),a+=1;return d},asSet:function(){for(var a=this[j](),b=a.next(),c=new fa;!b.done;)c.add(b.value),b=a.next();return c},dropGenerator:function(a){var b=this[j],c=M(a);return this[j]=function(){var a,d,e=0;return{next:function(){var f;for(a=a||b(),d=d&&c>e?d:a.next();!d.done&&c>e;)d=a.next(),e+=1;return d.done?f=V({},i.DONE):(f={done:!1,value:d.value},e+=1),f}}},this},restGenerator:function(){return this.drop(1)},dropWhileGenerator:function(a,b){var c;return J(a),c=this[j],this[j]=function(){var d,e,f,g=0;return{next:function(){var h;for(d=d||c(),f=f&&!e?f:d.next();!e&&!f.done&&a.call(b,f.value,g);)f=d.next(),g+=1;return e=!0,f.done?h=V({},i.DONE):(h={done:!1,value:f.value},g+=1),h}}},this},takeGenerator:function(a){var b=this[j],c=M(a);return this[j]=function(){var a,d,e=0;return{next:function(){var f;return a=a||b(),d=d&&e>=c?d:a.next(),!d.done&&c>e?(f={done:!1,value:d.value},e+=1):f=V({},i.DONE),f}}},this},takeWhileGenerator:function(a,b){var c;return J(a),c=this[j],this[j]=function(){var d,e,f=0;return{next:function(){var g;return d=d||c(),e=e&&e.done?e:d.next(),!e.done&&a.call(b,e.value,f)?(g={done:!1,value:e.value},f+=1):g=V({},i.DONE),g}}},this},chunkGenerator:function(a){var b=this[j],c=M(a)||1;return this[j]=function(){var a,d;return{next:function(){var e,f;for(a=a||b(),d=d||a.next(),d.done||(e=[]);!d.done&&e&&e.length<c;)e.push(d.value),d=a.next();return f=!d.done||e&&e.length?{done:!1,value:e}:V({},i.DONE)}}},this},compactGenerator:function(){var a=this[j];return this[j]=function(){var b,c;return{next:function(){var d;for(b=b||a(),c=c&&c.done?c:b.next();!c.done&&!c.value;)c=b.next();return d=c.done?V({},i.DONE):{done:!1,value:c.value}}}},this},differenceGenerator:function(a){var b,c=this[j];return this[j]=function(){var e,f;return{next:function(){var g;for(e=e||c(),f=f&&f.done?f:e.next(),b=b||new fa(d(a).values());!f.done&&b.has(f.value);)f=e.next();return g=f.done?V({},i.DONE):{done:!1,value:f.value}}}},this},initialGenerator:function(){var a=this[j];return this[j]=function(){var b,c,d;return{next:function(){var e;return b=b||a(),d=d||b.next(),c=b.next(),d.done||c.done?e=V({},i.DONE):(e={done:!1,value:d.value},d=c),e}}},this},first:function(){var a=this[j]().next();return a.done?void 0:a.value},last:function(){for(var a,b,c=this[j](),d=c.next();!d.done;){if(a=c.next(),a.done){b=d.value;break}d=a}return b},uniqueGenerator:function(){var a=this[j];return this[j]=function(){var b,c,d;return{next:function(){var e;for(c=c||a(),b=b||new fa,d=d||c.next();!d.done&&b.has(d.value);)d=c.next();return d.done?(e=V({},i.DONE),e.value=b):(e={done:!1,value:d.value},b.add(d.value),d=c.next()),e}}},this},intersectionGenerator:function(){function a(a){return a.has(this.value)}function b(a,b){return(D(b)||q(b[j]))&&a.push(new fa(d(b))),a}return function(){var c=this[j],d=arguments;return this[j]=function(){var e,f,g,h;return{next:function(){var j;for(f=f||S(d,b,[]),g=g||new fa,e=e||c(),h=h&&h.done?h:e.next();!h.done;){if(!g.has(h.value)){if(T(f,a,h)){g.add(h.value);break}g.add(h.value)}h=e.next()}return j=h.done?V({},i.DONE):{done:!1,value:h.value}}}},this}}(),unionGenerator:function(){var a=this[j],b=arguments;return this[j]=function(){var c,e,f,g,h,k,l;return{next:function(){var m;for(e=e||a(),c=c||new fa,f=f&&f.done?f:e.next();!f.done&&!g;){if(!c.has(f.value)){c.add(f.value);break}f=e.next()}if(f.done&&b.length)for(g=g||new ma.ArrayGenerator(b)[j](),(!l||l.done)&&(k=g.next());!k.done||!l;){if((D(k.value)||q(k.value[j]))&&((!h||l&&l.done)&&(h=D(k.value)?d(k.value,!0)[j]():k.value[j]()),h))for(l=h.next();!l.done;){if(!c.has(l.value)){c.add(l.value);break}l=h.next()}if(!l.done)break;k=g.next()}return!f.done||l&&!l.done?m={done:!1,value:l?l.value:f.value}:(m=V({},i.DONE),m.value=c),m}}},this},zipGenerator:function(){function a(a,b){var c=b.next();return c.done?a.value.push(void 0):(a.value.push(c.value),a.done=!1),a}function b(a,b){return(D(b)||q(b[j]))&&a.push(d(b,!0)[j]()),a}return function(){var c=this[j],d=arguments;return this[j]=function(){var e,f;return{next:function(){var g;for(e=e||S(d,b,[c()]);(!f||!f.done)&&(f=S(e,a,{value:[],done:!0}),f.done););return g=f.done?V({},i.DONE):{done:!1,value:f.value}}}},this}}(),flattenGenerator:function(){function a(a,b,c){return a.set(b,{index:0,prev:c})}return function(b){var c=this[j];return this[j]=function(){var d,f,g,h,j;return{next:function(){var k,l,m,n;for(f=f||c(),d=d||new ga,g=!g||j?f.next():g,j=!1;!g.done&&!n;){if(!d.size){if(!E(g.value,b)){l=g.value,j=!0;break}h=g.value,a(d,h,null)}for(;d.size;)if(m=d.get(h),m.index>=h.length)d[e](h),h=m.prev;else{if(l=h[m.index],!E(l,b)){m.index+=1,n=!0;break}N(d,l),a(d,l,h),h=l,m.index+=1}n||(g=f.next())}return k=g.done?V({},i.DONE):{done:!1,value:l}}}},this}}(),mapGenerator:function(a,b){var c;return J(a),c=this[j],this[j]=function(){var d,e,f=0;return{next:function(){var g;return d=d||c(),e=e&&e.done?e:d.next(),e.done?g=V({},i.DONE):(g={done:!1,value:a.call(b,e.value,f)},f+=1),g}}},this},filterGenerator:function(a,b){var c;return J(a),c=this[j],this[j]=function(){var d,e,f=0;return{next:function(){var g;for(d=d||c(),e=e&&e.done?e:d.next();!e.done&&!a.call(b,e.value,f);)e=d.next(),f+=1;return e.done?g=V({},i.DONE):(g={done:!1,value:e.value},f+=1),g}}},this},then:function(a){var b,c=this[j];if(A(a))this[j]=function(){var a,b,d=0;return{next:function(){var e;return a=a||c(),b=b&&b.done?b:a.next(),b.done?e=V({},i.DONE):(e={done:!1,value:b.value},d+=1),e}}},b=this;else{if(!q(a))throw new TypeError("If not undefined, generator must be a function");b=new ma.ThenGenerator(a,this,P(arguments,1))}return b}},ma={ThenGenerator:function(a,b,c){this[j]=function(){var d,e,f=0;return{next:function(){var g;return d||(d=q(a)?a.apply(b,c):a[j]()),e=e&&e.done?e:d.next(),e.done?g=V({},i.DONE):(g={done:!1,value:e.value},f+=1),g}}}},CounterGenerator:function(){function a(a){var b=a.to;return{next:function(){var c;return a.to<=a.from?b<=a.from?(c={done:!1,value:b},b+=a.by):c=V({},i.DONE):b>=a.from?(c={done:!1,value:b},b-=a.by):c=V({},i.DONE),c}}}function b(a){var b=a.from;return{next:function(){var c;return a.from<=a.to?b<=a.to?(c={done:!1,value:b},b+=a.by):c=V({},i.DONE):b>=a.to?(c={done:!1,value:b},b-=a.by):c=V({},i.DONE),c}}}function c(c){var d,e;return d||(d=c.reversed?a(c):b(c)),{next:function(){return e=e&&e.done?e:d.next()}}}function d(){if(!(this instanceof d))return new d;var a={reversed:!1,from:0,to:g,by:1};p(this,"state",function(){return V({},a)}),p(this,j,function(){return c(V({},a))}),p(this,"from",function(b){return a.from=L(b),this}),p(this,"to",function(b){return a.to=L(b),this}),p(this,"by",function(b){if(a.by=Math.abs(L(b)),!a.by)throw new TypeError("can not count by zero");return this}),p(this,"reverse",function(){return a.reversed=!a.reversed,this})}return d}(),ArrayGenerator:function(){function a(a,b){var c,d,e,f;return b.length?(c=ma.CounterGenerator(),c.from(b.from).to(b.to).by(b.by),O(b,c),e={next:function(){var e;return d=d||c[j](),f=f&&f.done?f:d.next(),e=f.done?V({},i.DONE):{done:!1,value:ha(b,a,f.value)}}}):e={next:function(){return V({},i.DONE)}},e}function b(c){if(!(this instanceof b))return new b(c);var d=D(c)?c.length:0,e=V({length:d,reversed:!1,from:0,to:d-1,by:1},i.OPTS.VALUES);p(this,"state",function(){return V({},e)}),p(this,j,function(){return a(c,V({},e))}),p(this,"entries",function(){return V(e,i.OPTS.ENTRIES),this}),p(this,"values",function(){return V(e,i.OPTS.VALUES),this}),p(this,"keys",function(){return V(e,i.OPTS.KEYS),this}),p(this,"reverse",function(){return e.reversed=!e.reversed,this}),p(this,"slice",function(a,b){return ka(a,b,e),this})}return b}(),StringGenerator:function(){function a(a,b,c){var d;return d=a.keys?c:a.values?I(G(b)):[c,I(G(b))]}function b(b,c){var d,e,f,g,h;return c.length?(d=ma.CounterGenerator(c),d.from(c.from).to(c.to).by(c.by),O(c,d),f={next:function(){var f,k,l;if(e=e||d[j](),h=h||e.next(),!h.done)for(;!h.done&&!f;)g?(g=!g,c.reversed&&(f={done:!1,value:a(c,k+l,h.value)})):c.reversed?(k=b[h.value-1],l=b[h.value],g=F(k,l),g||(f={done:!1,value:a(c,l,h.value)})):(k=b[h.value],l=b[h.value+1],g=F(k,l),f={done:!1,value:a(c,k+l,h.value)}),h=e.next();return f||V({},i.DONE)}}):{next:function(){return V({},i.DONE)}}}function c(a){if(!(this instanceof c))return new c(a);var d=D(a)?a.length:0,e=V({length:d,reversed:!1,from:0,to:d-1,by:1},i.OPTS.VALUES);p(this,"state",function(){return V({},e)}),p(this,j,function(){return b(a,V({},e))}),p(this,"entries",function(){return V(e,i.OPTS.ENTRIES),this}),p(this,"values",function(){return V(e,i.OPTS.VALUES),this}),p(this,"keys",function(){return V(e,i.OPTS.KEYS),this}),p(this,"reverse",function(){return e.reversed=!e.reversed,this}),p(this,"slice",function(b,c){var d,f;return ka(b,c,e),e.from&&(d=a[e.from-1],f=a[e.from],F(d,f)&&(e.from+=1)),e.to&&(d=a[e.to-1],f=a[e.to],F(d,f)&&(e.to-=1)),this})}return c}(),EnumerateGenerator:function(){function a(a,b){var c,d,e,f;if(b.own)d=U(a);else{d=[];for(f in a)d.push(f)}return{next:function(){var f;return c=c||new ma.ArrayGenerator(d)[j](),e=e&&e.done?e:c.next(),f=e.done?V({},i.DONE):{done:!1,value:ha(b,a,e.value)}}}}function b(c){if(!(this instanceof b))return new b(c);var d=V({own:!1},i.OPTS.VALUES);p(this,"state",function(){return V({},d)}),p(this,j,function(){return a(c,V({},d))}),p(this,"entries",function(){return V(d,i.OPTS.ENTRIES),this}),p(this,"values",function(){return V(d,i.OPTS.VALUES),this}),p(this,"keys",function(){return V(d,i.OPTS.KEYS),this}),p(this,"own",function(){return d.own=!d.own,this})}return b}(),RepeatGenerator:function(){function a(a){return{next:function(){return{done:!1,value:a}}}}function b(c){return this instanceof b?void p(this,j,function(){return a(c)}):new b(c)}return b}(),UnzipGenerator:function(){function a(a){var b,c,e,f;return D(a)||q(a[j])?(c=d(a).first(),r(c)||(c=[]),f=d(a).rest().asArray()):c=f=[],{next:function(){var a;return b=b||la.zipGenerator.apply(d(c,!0),f)[j](),e=e&&e.done?e:b.next(),a=e.done?V({},i.DONE):{done:!1,value:e.value}}}}function b(c){return this instanceof b?void p(this,j,function(){return a(c)}):new b(c)}return b}()};return ja(),function(){function a(a,b,c){var d=new ma.CounterGenerator;return z(a)&&(k(b)?d.to(a):d.from(a).to(b),k(c)||d.by(c)),d}return d=function(b,c,d){var e;return e=k(b)||z(b)?a(b,c,d):E(b,c)?new ma.ArrayGenerator(b):B(b)?new ma.StringGenerator(b):q(b[j])?new ma.ThenGenerator(b,{},P(arguments,1)):new ma.EnumerateGenerator(b)},p(d,"array",ma.ArrayGenerator),p(d,"string",ma.StringGenerator),p(d,"enumerate",ma.EnumerateGenerator),p(d,"repeat",ma.RepeatGenerator),p(d,"unzip",ma.UnzipGenerator),p(d,"iterator",j),p(d,"Map",ga),p(d,"Set",fa),p(d,"useShims",c),d}()});